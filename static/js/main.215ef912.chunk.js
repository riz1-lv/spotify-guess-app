(this["webpackJsonpguess-app"]=this["webpackJsonpguess-app"]||[]).push([[0],{11:function(t,e,n){},19:function(t,e,n){},20:function(t,e,n){},23:function(t,e,n){},29:function(t,e,n){},30:function(t,e,n){},31:function(t,e,n){},32:function(t,e,n){"use strict";n.r(e);var c=n(0),o=n(1),s=n.n(o),i=n(12),a=n.n(i),r=(n(19),n(3)),l=window.location.hash.substring(1).split("&").reduce((function(t,e){if(e){var n=e.split("=");t[n[0]]=decodeURIComponent(n[1])}return t}),{});window.location.hash="";var u=l,b=(n(20),n(4)),d=n.n(b),j=n(10),h=n(22);function g(){return(g=Object(j.a)(d.a.mark((function t(e){var n,c;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return console.log("Bearer "+e),t.next=3,h("https://api.spotify.com/v1/me/top/tracks?time_range=long_term&limit=50",{headers:{Accept:"application/json",Authorization:"Bearer "+e,"Content-Type":"application/json"}});case 3:return n=t.sent,t.next=6,n.json();case 6:return c=t.sent,t.abrupt("return",c);case 8:case"end":return t.stop()}}),t)})))).apply(this,arguments)}var p=["user-top-read","user-read-currently-playing","user-read-playback-state"],m=(n(23),["btn--primary","btn--outline"]),f=["btn--medium","btn--large"],O=function(t){var e=t.children,n=t.classesName,o=t.type,s=t.onClick,i=t.buttonStyle,a=t.buttonSize,r=t.link,l=t.disabled,u=m.includes(i)?i:m[0],b=f.includes(a)?a:f[0];return Object(c.jsx)("a",{href:r,className:"btn-mobile",children:Object(c.jsx)("button",{className:"".concat(n," btn  ").concat(u," ").concat(b),onClick:s,disabled:l,type:o,children:e})})},y=n(6),x=n(7),v=(n(11),function(){return Object(c.jsxs)("div",{className:"login-element",children:[Object(c.jsx)("header",{children:Object(c.jsx)("h1",{className:"title",children:"Guess Your Spotify"})}),Object(c.jsx)("div",{className:"info-text",children:Object(c.jsx)("p",{children:"You think you know your favorite songs? put that to the test in this short quiz, we'll show you a short snippet of your favorite songs, try to guess the name of the song and artist. Sign in to spotify below to get started!"})}),Object(c.jsxs)("section",{className:"btns",children:[Object(c.jsx)("div",{children:Object(c.jsx)(O,{className:"btn btn--loginApp-link",link:"".concat("https://accounts.spotify.com/authorize","?client_id=").concat("4bc492f631464b43b7a21ee6ca329b16","&redirect_uri=").concat("http://localhost:3000","&scope=").concat(p.join("%20"),"&response_type=token&show_dialog=true"),buttonStyle:"btn--primary",buttonSize:"btn--large",children:"Login to Spotify"})}),Object(c.jsx)("div",{children:Object(c.jsx)(O,{className:"btn-twitter",link:"https://twitter.com/intent/tweet?hashtags=GuessYourSpotify&&text="+encodeURIComponent(" Find out how well you know your top spotify songs "),buttonStyle:"btn--primary",children:Object(c.jsx)(y.a,{icon:x.a})})})]})]})}),k=(n(29),function(t){return Object(c.jsxs)("div",{children:[Object(c.jsx)("audio",{id:"player",className:"audio-player",controls:!0,name:"media",children:Object(c.jsx)("source",{src:t.source},t.key)}),Object(c.jsx)("div",{})]})}),N=n(13),S=(n(30),function(t){var e=t.children,n=t.type,s=t.buttons,i=(t.onClick,t.buttonStyle),a=t.buttonSize,l=t.link,u=t.songplaying,b=t.incCorrect,d=Object(o.useState)("clicked"),j=Object(r.a)(d,2),h=j[0],g=j[1],p=Object(o.useState)(!1),m=Object(r.a)(p,2),f=m[0],y=m[1],x=Object(o.useState)(s),v=Object(r.a)(x,2),k=v[0],S=v[1],w=Object(o.useState)(),C=Object(r.a)(w,2),L=C[0],z=C[1],M=document.getElementsByClassName("unclicked btn  btn--primary btn--medium");return Object(o.useEffect)((function(){S(s)}),[s,k]),Object(c.jsx)(c.Fragment,{children:Object(c.jsx)(O,Object(N.a)({classesName:f?"quizbtn "+h:"unclicked",buttonStyle:i,buttonSize:a,disabled:L,onClick:function(){console.log("clicked"),e.includes(u.name)&&(g("correct-ans"),console.log(h),b(),z(!0));for(var t=0;t<M.length;t++)M[t].disabled="true",M[t].classList.add("unselectable");y(!f)},type:n,link:l,children:e},"children",e))})}),w=(n(31),[0,1,2,3,4]),C=function(t){var e=Object(o.useState)(t.songName),n=Object(r.a)(e,2),s=(n[0],n[1],Object(o.useState)("")),i=Object(r.a)(s,2),a=i[0],l=i[1],u=Object(o.useState)(!1),b=Object(r.a)(u,2),d=b[0],j=b[1];function h(e){var n;return(n=e,t.songList[n].name)+" \n- "+function(e){for(var n="",c=0;c<t.songList[e].artists.length;c++)c===t.songList[e].artists.length-1?n+=t.songList[e].artists[c].name:n+=t.songList[e].artists[c].name+", ";return n}(e)}return Object(o.useEffect)((function(){!function(){for(var e=0;e<w.length;e++)w[e]=Math.floor(50*Math.random());w.includes(t.song)||(w[Math.floor(5*Math.random())]=t.song),console.log(w)}()})),Object(o.useEffect)((function(){j(!d)}),[]),Object(o.useEffect)((function(){console.log(t.songList[t.song]),null==t.songName.preview_url&&(t.rand(),console.log("".concat(t.song," has a null preview uri")))})),Object(c.jsxs)("div",{children:[Object(c.jsx)("div",{className:"next-container",children:Object(c.jsx)(O,{className:"next-button",onClick:function(){t.rand(),t.incSong()},children:"\u279e"})}),Object(c.jsx)(k,{source:t.songList[t.song].preview_url}),Object(c.jsxs)("div",{className:"quiz-buttons",children:[Object(c.jsx)(S,{incCorrect:t.increaseNumCorrect,disabled:a,disabler:function(){l("true")},songplaying:t.songName,children:h([w[0]])}),Object(c.jsx)(S,{incCorrect:t.increaseNumCorrect,disabled:a,songplaying:t.songName,children:h([w[1]])},d),Object(c.jsx)(S,{incCorrect:t.increaseNumCorrect,disabled:a,songplaying:t.songName,children:h(w[2])}),Object(c.jsx)(S,{incCorrect:t.increaseNumCorrect,songplaying:t.songName,children:h(w[3])}),Object(c.jsx)(S,{incCorrect:t.increaseNumCorrect,songplaying:t.songName,children:h(w[4])})]})]})},L=0,z=function(){var t=Object(o.useState)({token:null}),e=Object(r.a)(t,2),n=e[0],s=e[1],i=Object(o.useState)(!1),a=Object(r.a)(i,2),l=a[0],b=a[1],d=Object(o.useState)(!1),j=Object(r.a)(d,2),h=j[0],p=j[1],m=Object(o.useState)(Math.floor(50*Math.random())),f=Object(r.a)(m,2),k=f[0],N=f[1],S=Object(o.useState)(1),w=Object(r.a)(S,2),z=w[0],M=w[1],E=Object(o.useState)({item:{song:""}}),_=Object(r.a)(E,2),F=_[0],B=_[1];return Object(o.useEffect)((function(){12===z&&p(!0)}),[z]),Object(o.useEffect)((function(){console.log(u);var t=u.access_token;t&&s({token:t}),n.token&&function(t){return g.apply(this,arguments)}(n.token).then((function(t){return B({song:t})}))}),[n.token]),Object(c.jsx)("div",{className:"App",children:Object(c.jsxs)("div",{className:"App-header",children:[!n.token&&Object(c.jsx)(v,{}),l&&Object(c.jsxs)(c.Fragment,{children:[Object(c.jsxs)("header",{id:"title",children:[Object(c.jsx)("h1",{children:"Guess Your Spotify"}),Object(c.jsxs)("div",{children:[z,"/12"]})]}),Object(c.jsx)("div",{className:h?"quiz":"",children:Object(c.jsx)(C,{song:k,increaseNumCorrect:function(){L++,console.log("u got "+L)},incSong:function(){M(z+1)},rand:function(){console.log(k);var t=Math.floor(50*Math.random());N(t)},dec:function(){k>0&&(N(k-1),console.log(k))},inc:function(){k<49&&(N(k+1),console.log(k))},getRandName:function(){var t=F.song.items[Math.floor(50*Math.random())].name;return console.log(t),t},songList:F.song.items,songName:F.song.items[k]},k)})]}),h&&Object(c.jsxs)("div",{children:[Object(c.jsx)("h1",{children:"Congragulations you got ".concat(L," correct! ")}),Object(c.jsx)(O,{className:"btn-twitter",link:"https://twitter.com/intent/tweet?hashtags=GuessYourSpotify&&text="+encodeURIComponent(" Find out how well you know your top spotify songs "),buttonStyle:"btn--primary",children:Object(c.jsx)(y.a,{icon:x.a})})]}),Object(c.jsx)("div",{id:"start-btn",className:n.token?"player active":"player",children:Object(c.jsx)(O,{onClick:function(){b(!0),console.log(k),document.getElementById("start-btn").style.display="none"},children:"Start Quiz"})})]})})},M=function(t){t&&t instanceof Function&&n.e(3).then(n.bind(null,33)).then((function(e){var n=e.getCLS,c=e.getFID,o=e.getFCP,s=e.getLCP,i=e.getTTFB;n(t),c(t),o(t),s(t),i(t)}))};a.a.render(Object(c.jsx)(s.a.StrictMode,{children:Object(c.jsx)(z,{})}),document.getElementById("root")),M()}},[[32,1,2]]]);
//# sourceMappingURL=main.215ef912.chunk.js.map